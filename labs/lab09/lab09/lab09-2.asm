; ===============================
; Программа: Hello World с отладочной информацией
; ===============================

SECTION .data
    ; Сегмент данных
    msg1:    db "Hello, ",0x0     ; Первая часть сообщения
    msg1Len: equ $ - msg1         ; Длина первой строки

    msg2:    db "world!",0xa      ; Вторая часть сообщения + перевод строки
    msg2Len: equ $ - msg2         ; Длина второй строки

SECTION .text
    global _start

_start:
    ; ===== ПЕРВЫЙ СИСТЕМНЫЙ ВЫЗОВ =====
    ; Вывод "Hello, "
    mov eax, 4          ; номер системного вызова sys_write
    mov ebx, 1          ; файловый дескриптор stdout
    mov ecx, msg1       ; указатель на строку "Hello, "
    mov edx, msg1Len    ; длина строки
    int 0x80            ; вызов прерывания

    ; ===== ВТОРОЙ СИСТЕМНЫЙ ВЫЗОВ =====
    ; Вывод "world!\n"
    mov eax, 4          ; sys_write
    mov ebx, 1          ; stdout
    mov ecx, msg2       ; указатель на строку "world!"
    mov edx, msg2Len    ; длина строки
    int 0x80            ; вызов прерывания

    ; ===== ЗАВЕРШЕНИЕ ПРОГРАММЫ =====
    mov eax, 1          ; номер системного вызова sys_exit
    mov ebx, 0          ; код возврата 0 (успех)
    int 0x80            ; вызов прерывания
